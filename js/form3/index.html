
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css">
    <title>Blog Website</title>
  </head>
  <body>
    <form>
      <h1>Enter Blog Details</h1>
      <label for="title" class="label">Title:</label>
      <input
        name="title"
        id="title"
        class="input"
        type="text"
        placeholder="Enter title"
        required
      /><br />

      <label for="content" class="label">Blog Content:</label>
      <textarea
        name="content"
        id="content"
        class="input"
        placeholder="Enter blog content"
        rows="4"
        required
      ></textarea
      ><br />

      <label for="author" class="label">Author:</label>
      <input
        name="author"
        id="author"
        class="input"
        type="text"
        placeholder="Enter author name"
        required
      /><br />

      <label for="email" class="label">Email:</label>
      <input
        name="email"
        id="email"
        class="input"
        type="email"
        placeholder="Enter email"
        required
      /><br />

      <button type="submit">Submit</button>
    </form>

    <div id="message"></div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.querySelector("form");
        const messageDiv = document.getElementById("message");

        const submitBlog = async (event) => {
          event.preventDefault();

          const title = document.getElementById("title").value;
          const content = document.getElementById("content").value;
          const author = document.getElementById("author").value;
          const email = document.getElementById("email").value;

          console.log(title, content, author, email)

          if (title && content && author && email) {
            try {
              const response = await fetch("https://reqres.in/api/posts", {
                method: "POST",
                body: JSON.stringify({
                  title: title,
                  content: content,
                  author: author,
                  email: email,
                }),
                headers: {
                  "Content-type": "application/json",
                },
              });

              if (response.ok) {
                const responseData = await response.json();
                messageDiv.innerHTML = `<h2>Form submitted successfully!</h2>`;
                form.reset();
              } else {
                throw new Error("Failed to submit form");
              }
            } catch (error) {
              console.error("Error:", error);
              messageDiv.innerHTML = `<h2>Error submitting form. Please try again later.</h2>`;
            }
          } else {
            console.log("Incorrect input");
          }
        };

        form.addEventListener("submit", submitBlog);
      });
    </script>
  </body>
</html>
